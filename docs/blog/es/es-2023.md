# ECMAScript 2023

ECMAScript 2023ï¼ˆES14ï¼‰äº 2023 å¹´ 6 æœˆå‘å¸ƒã€‚

## æ ¸å¿ƒç‰¹æ€§

### 1. åå‘æ•°ç»„æœç´¢æ–¹æ³•

- `findLast()`
- `findLastIndex()`

ä»æ•°ç»„æœ«å°¾å‘å‰æœç´¢ç¬¦åˆæ¡ä»¶çš„å…ƒç´ ï¼Œé¿å…æ‰‹åŠ¨åè½¬æ•°ç»„çš„å†—ä½™æ“ä½œã€‚

```javascript
const arr = [5, 12, 8, 130, 44];
console.log(arr.findLast((n) => n > 10)); // 44
console.log(arr.findLastIndex((n) => n > 10)); // 4ï¼ˆç´¢å¼•ï¼‰
```

### 2. ä¸å¯å˜æ•°ç»„æ–¹æ³•

æ–°å¢å››ä¸ªæ–¹æ³•ï¼Œè¿”å›æ–°æ•°ç»„è€Œä¸ä¿®æ”¹åŸæ•°ç»„ï¼Œé€‚ç”¨äºå‡½æ•°å¼ç¼–ç¨‹å’ŒçŠ¶æ€ç®¡ç†ï¼š

- `toReversed()`ï¼šè¿”å›åè½¬åçš„æ–°æ•°ç»„ã€‚
- `toSorted(compareFn)`ï¼šè¿”å›æ’åºåçš„æ–°æ•°ç»„ã€‚
- `toSpliced(start, deleteCount, ...items)`ï¼šå¢åˆ å…ƒç´ å¹¶è¿”å›æ–°æ•°ç»„ã€‚
- `with(index, value)`ï¼šæ›¿æ¢æŒ‡å®šç´¢å¼•çš„å€¼å¹¶è¿”å›æ–°æ•°ç»„ã€‚

```javascript
const arr = [1, 2, 3];
console.log(arr.toReversed()); // [3, 2, 1]
console.log(arr.toSorted((a, b) => b - a)); // [3, 2, 1]
console.log(arr.with(1, 99)); // [1, 99, 3]
```

### 3. Hashbang è¯­æ³•æ ‡å‡†åŒ–

æ”¯æŒåœ¨è„šæœ¬æ–‡ä»¶é¦–è¡Œä½¿ç”¨ #! æŒ‡å®šè§£é‡Šå™¨è·¯å¾„ï¼Œä¾¿äºç›´æ¥æ‰§è¡Œï¼š

```javascript
#!/usr/bin/env node
console.log("Hello from Node.js!");
```

### 4. WeakMap æ”¯æŒ Symbol é”®

å…è®¸ `Symbol` ä½œä¸º `WeakMap` çš„é”®ï¼Œå¢å¼ºå†…å­˜ç®¡ç†çµæ´»æ€§ï¼š

```javascript
const key = Symbol("metadata");
const weakMap = new WeakMap();
weakMap.set(key, { data: "secret" });
console.log(weakMap.get(key)); // { data: 'secret' }
```

### 5. é”™è¯¯é“¾å¼ä¼ é€’ï¼ˆError.causeï¼‰

é€šè¿‡ `cause` å±æ€§ä¼ é€’åŸå§‹é”™è¯¯ä¿¡æ¯ï¼Œä¾¿äºè°ƒè¯•ï¼š

```javascript
try {
  throw new Error("åŸå§‹é”™è¯¯");
} catch (err) {
  throw new Error("æ–°é”™è¯¯", { cause: err });
  // é€šè¿‡ error.cause è·å–åŸå§‹é”™è¯¯
}
```

### 6. Object.hasOwn()

æ›¿ä»£ Object.prototype.hasOwnProperty.call()ï¼Œæ›´å®‰å…¨åœ°æ£€æµ‹å±æ€§æ˜¯å¦å­˜åœ¨ï¼š

```javascript
const obj = { name: "Alice" };
console.log(Object.hasOwn(obj, "name")); // true
console.log(Object.hasOwn(null, "name")); // falseï¼ˆä¸ä¼šæŠ¥é”™ï¼‰
```

### 7. Intl.ListFormat

å›½é™…åŒ–å¢å¼ºï¼ŒæŒ‰è¯­è¨€ç¯å¢ƒæ ¼å¼åŒ–åˆ—è¡¨ï¼š

```javascript
const formatter = new Intl.ListFormat("zh-CN", {
  style: "long",
  type: "conjunction",
});
console.log(formatter.format(["è‹¹æœ", "é¦™è•‰", "æ©™å­"]));
// è¾“å‡ºï¼šâ€œè‹¹æœã€é¦™è•‰å’Œæ©™å­â€
```

## å…¼å®¹æ€§

<BrowserCard  cv="97+" fv="104+" sv="15.4+" ev="97+" nv="16.0+" />

<!--
| Chrome | Firefox | Safari | Edge | Node.js |
| :----: | :-----: | :----: | :--: | :-----: |
|  97+   |  104+   | 15.4+  | 97+  |  16.0+  |
-->

> æ³¨ï¼šå…¼å®¹æ€§æ•°æ®å¯èƒ½éšç€ç‰ˆæœ¬çš„æ›´æ–°è€Œæœ‰æ‰€è°ƒæ•´ï¼Œå»ºè®®å¼€å‘è€…æ ¹æ®é¡¹ç›®çš„å…·ä½“éœ€æ±‚å‚è€ƒæœ€æ–°çš„æµè§ˆå™¨ç‰ˆæœ¬å’Œ Polyfill æ”¯æŒæƒ…å†µã€‚

## æ€»ç»“

ES2023 èšç„¦äº æ•°æ®æ“ä½œå®‰å…¨æ€§ã€è¯­æ³•æ ‡å‡†åŒ– å’Œ å›½é™…åŒ–æ”¯æŒã€‚

**å‚è€ƒæ–‡çŒ®**

[ECMA-262 2023 è§„èŒƒ ğŸ‘‰](https://tc39.es/ecma262/2023/)
