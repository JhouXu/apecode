import{_ as i,c as a,a7 as n,o as l}from"./chunks/framework.UUBZjWQQ.js";const g=JSON.parse('{"title":"Node å­¦ä¹ ç¬”è®°","description":"","frontmatter":{"layout":"doc"},"headers":[],"relativePath":"blog/plugin-node.md","filePath":"blog/plugin-node.md","lastUpdated":1735488466000}'),h={name:"blog/plugin-node.md"};function p(k,s,t,e,E,r){return l(),a("div",null,s[0]||(s[0]=[n(`<h1 id="node-å­¦ä¹ ç¬”è®°" tabindex="-1">Node å­¦ä¹ ç¬”è®° <a class="header-anchor" href="#node-å­¦ä¹ ç¬”è®°" aria-label="Permalink to &quot;Node å­¦ä¹ ç¬”è®°&quot;">â€‹</a></h1><br><p><a href="https://www.bilibili.com/video/BV1qN4y1A7jM" target="_blank" rel="noreferrer">Node.js å®Œå…¨æŒ‡å—ï¼ˆç›´æ’­å›æ”¾ï¼‰æç«‹è¶… - bilibili ğŸ“º</a></p><h2 id="ç®€ä»‹" tabindex="-1">ç®€ä»‹ <a class="header-anchor" href="#ç®€ä»‹" aria-label="Permalink to &quot;ç®€ä»‹&quot;">â€‹</a></h2><ul><li>è¿è¡Œåœ¨æœåŠ¡å™¨ç«¯çš„ JS</li><li>ç”¨æ¥ç¼–å†™æœåŠ¡å™¨</li><li>ç‰¹ç‚¹ <ul><li>å•çº¿ç¨‹ã€å¼‚æ­¥ã€éé˜»å¡</li><li>ç»Ÿä¸€ API</li></ul></li></ul><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>ç‰ˆæœ¬ç®¡ç†å™¨ä¸»è¦æœ‰ nvm å’Œ nvsï¼Œé€šè¿‡ç®¡ç†å™¨å¯è‡ªç”±åˆ‡æ¢ä¸åŒçš„ node.js ç‰ˆæœ¬ï¼Œä»¥ä¾¿å¼€å‘ä¸åŒçš„é¡¹ç›®ã€‚</p><ul><li><a href="https://github.com/nvm-sh/nvm" target="_blank" rel="noreferrer">nvm</a>: ä¸€ä¸ª Node.js ç‰ˆæœ¬ç®¡ç†å™¨ï¼Œä½¿ç”¨ bash å®ç°ï¼Œå‡ ä¹æ˜¯ä¸šå†…æœ€æœ‰åã€‚</li><li><a href="https://github.com/jasongin/nvs" target="_blank" rel="noreferrer">nvs</a>: åŒæ ·æ˜¯ä¸€ä¸ªçš„ Node.js ç‰ˆæœ¬åˆ‡æ¢å™¨ï¼Œä½¿ç”¨ JavaScript å®ç°ï¼Œè·¨å¹³å°ã€‚</li></ul></div><p>JavaScript å’Œ Node.js çš„åŒºåˆ«ï¼š</p><table tabindex="0"><thead><tr><th style="text-align:center;">åˆ†ç±»</th><th style="text-align:center;">JavScript</th><th style="text-align:center;">Node.js</th></tr></thead><tbody><tr><td style="text-align:center;">ECMAScript</td><td style="text-align:center;">âœ…</td><td style="text-align:center;">âœ…</td></tr><tr><td style="text-align:center;">DOM - å®¿ä¸»å¯¹è±¡</td><td style="text-align:center;">âœ…</td><td style="text-align:center;">âŒ</td></tr><tr><td style="text-align:center;">BOM - å®¿ä¸»å¯¹è±¡</td><td style="text-align:center;">âœ…</td><td style="text-align:center;">âŒ</td></tr></tbody></table><blockquote><p>Node.js è™½ç„¶ä¹Ÿå±äº jsï¼Œä½†æ˜¯å®ƒå’Œæµè§ˆå™¨ä¸­ js è¿˜æ˜¯æœ‰æ‰€åŒºåˆ«çš„ã€‚å¯¹äº ECMAScript æ ‡å‡†æ¥è¯´ï¼Œå®ƒä»¬æ˜¯ä¸€è‡´çš„æ‰€ä»¥åƒæ˜¯åŸå§‹å€¼ã€æµç¨‹æ§åˆ¶è¯­å¥ã€è¿ç®—ç¬¦ã€å‡½æ•°ã€å¯¹è±¡ã€æ•°ç»„ã€å†…å»ºå¯¹è±¡è¿™äº›ä¸œè¥¿æ— è®ºæ˜¯æµè§ˆå™¨ç¯å¢ƒè¿˜æ˜¯ node ä¸­éƒ½æ˜¯ä¸€æ ·çš„ã€‚å¯¹äºå®¿ä¸»å¯¹è±¡æ¥è¯´æµè§ˆå™¨å’Œ node æ˜¯æˆªç„¶ä¸åŒçš„ï¼Œåƒæ˜¯ DOMã€BOM è¿™äº›å¯¹è±¡åœ¨ node ä¸­é€šé€šæ˜¯ä¸å­˜åœ¨çš„ï¼Œä½†æ˜¯ä¸€äº›ä¸œè¥¿åœ¨ Node ä¸­ä¾ç„¶å¾—åˆ°äº†ä¿ç•™ï¼Œæ¯”å¦‚ console å¯¹è±¡ã€æ¯”å¦‚å®šæ—¶å™¨ä¹‹ç±»ã€‚</p></blockquote><h2 id="å¼‚æ­¥ç¼–ç¨‹-promise" tabindex="-1">å¼‚æ­¥ç¼–ç¨‹ &amp; Promise <a class="header-anchor" href="#å¼‚æ­¥ç¼–ç¨‹-promise" aria-label="Permalink to &quot;å¼‚æ­¥ç¼–ç¨‹ &amp; Promise&quot;">â€‹</a></h2><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>è¿›ç¨‹å’Œçº¿ç¨‹</p><ul><li>è¿›ç¨‹ï¼šç¨‹åºçš„è¿è¡Œç¯å¢ƒ</li><li>çº¿ç¨‹ï¼šå®é™…è¿›è¡Œè¿ç®—çš„ä¸œè¥¿</li></ul></div><h3 id="åŒæ­¥å¼‚æ­¥" tabindex="-1">åŒæ­¥å¼‚æ­¥ <a class="header-anchor" href="#åŒæ­¥å¼‚æ­¥" aria-label="Permalink to &quot;åŒæ­¥å¼‚æ­¥&quot;">â€‹</a></h3><ol><li>åŒæ­¥ï¼š</li></ol><ul><li>é€šå¸¸æƒ…å†µä¸‹ä»£ç éƒ½æ˜¯<code>è‡ªä¸Šå‘ä¸‹ä¸€è¡Œä¸€è¡Œ</code>åœ°æ‰§è¡Œï¼Œå‰é¢çš„ä»£ç ä¸æ‰§è¡Œåé¢çš„ä»£ç ä¹Ÿä¸ä¼šæ‰§è¡Œ</li><li>åŒæ­¥çš„ä»£ç æ‰§è¡Œä¼šå‡ºç°<code>é˜»å¡</code>çš„æƒ…å†µï¼Œä¸€è¡Œä»£ç æ‰§è¡Œæ…¢ä¼šå½±å“æ•´ä¸ªç¨‹åºçš„æ‰§è¡Œ</li></ul><ol start="2"><li>è§£å†³åŒæ­¥é—®é¢˜ï¼š</li></ol><ul><li>Java Python <ul><li>é€šè¿‡å¤šçº¿ç¨‹æ¥è§£å†³</li></ul></li><li>Node.js <ul><li>JS æ˜¯å•çº¿ç¨‹è¯­è¨€ï¼Œé€šè¿‡<code>å¼‚æ­¥ç¼–ç¨‹</code>æ¥è§£å†³</li></ul></li></ul><ol start="3"><li>å¼‚æ­¥ï¼š</li></ol><ul><li>ä¸€æ®µä»£ç çš„æ‰§è¡Œä¸ä¼šå½±å“å…¶ä»–ç¨‹åºçš„æ‰§è¡Œ</li><li>å¼‚æ­¥çš„é—®é¢˜ï¼š <ul><li><code>å¼‚æ­¥çš„ä»£ç æ— æ³•é€šè¿‡ return æ¥è®¾ç½®è¿”å›å€¼</code></li></ul></li></ul><ol start="4"><li>ç‰¹ç‚¹ï¼š</li></ol><ul><li><ol><li>ä¸ä¼šé˜»å¡å…¶å®ƒä»£ç çš„æ‰§è¡Œ</li></ol></li><li><ol start="2"><li>éœ€è¦é€šè¿‡å›è°ƒå‡½æ•°æ¥è¿”å›ç»“æœ</li></ol></li></ul><ol start="5"><li>å¼‚æ­¥å®ç°æ–¹å¼ï¼š</li></ol><ul><li>å›è°ƒå‡½æ•°ï¼šè¿‡åº¦ä½¿ç”¨ä¼šå‡ºç°<code>å›è°ƒåœ°ç‹±</code>ï¼Œä»£ç çš„å¯è¯»æ€§å·®ã€å¯è°ƒè¯•æ€§å·®</li><li>Promiseï¼š<code>æ˜¯å­˜å‚¨æ•°æ®çš„å¯¹è±¡</code></li></ul><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å›è°ƒåœ°ç‹±æ¡ˆä¾‹</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sum</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">cb</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    cb</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">result</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  sum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(result, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">result</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    sum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(result, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">result</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      sum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(result, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">result</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(result);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><h3 id="promise" tabindex="-1">Promise <a class="header-anchor" href="#promise" aria-label="Permalink to &quot;Promise&quot;">â€‹</a></h3><p>Promise å°±æ˜¯ä¸€ä¸ªç”¨æ¥<code>å­˜å‚¨æ•°æ®å¯¹è±¡</code>ï¼Œä½†æ˜¯ç”±äº Promise å­˜å–çš„æ–¹å¼çš„ç‰¹æ®Šï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥å°†å¼‚æ­¥è°ƒç”¨çš„ç»“æœå­˜å‚¨åˆ° Promise ä¸­ã€‚</p><p>å¯¹ Promise è¿›è¡Œé“¾å¼è°ƒç”¨æ—¶ï¼š</p><ul><li>åè¾¹çš„æ–¹æ³•ï¼ˆthen å’Œ catchï¼‰è¯»å–çš„ä¸Šä¸€æ­¥çš„æ‰§è¡Œç»“æœï¼Œå¦‚æœä¸Šä¸€æ­¥çš„æ‰§è¡Œç»“æœä¸æ˜¯å½“å‰æƒ³è¦çš„ç»“æœï¼Œåˆ™è·³è¿‡å½“å‰çš„æ–¹æ³•ï¼›</li><li>å½“ Promise å‡ºç°å¼‚å¸¸æ—¶ï¼Œè€Œæ•´ä¸ªè°ƒç”¨é“¾ä¸­æ²¡æœ‰å‡ºç° catchï¼Œåˆ™å¼‚å¸¸ä¼šå‘å¤–æŠ›å‡ºã€‚</li></ul><p><code>Promise è§£å†³å¼‚æ­¥ç¼–ç¨‹ä¸­å›è°ƒåœ°ç‹±é—®é¢˜</code></p><h4 id="æ¡ˆä¾‹" tabindex="-1">æ¡ˆä¾‹ <a class="header-anchor" href="#æ¡ˆä¾‹" aria-label="Permalink to &quot;æ¡ˆä¾‹&quot;">â€‹</a></h4><p>åˆ›å»º Promise å®ä¾‹ï¼ŒåŠè·å– Promise ä¸­çš„æ•°æ®</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åˆ›å»º Promise æ—¶ï¼Œæ„é€ å‡½æ•°ä¸­éœ€è¦ä¸€ä¸ªå‡½æ•°[æ‰§è¡Œå™¨]ä½œä¸ºå‚æ•°</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Promise æ„é€ å‡½æ•°çš„å›è°ƒå‡½æ•°ï¼Œå®ƒä¼šåœ¨åˆ›å»º Promise æ—¶è°ƒç”¨ï¼Œè°ƒç”¨æ—¶ä¼šæœ‰ä¸¤ä¸ªå‚æ•°ä¼ é€’è¿›å»</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> promise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // resolve å’Œ reject æ˜¯ä¸¤ä¸ªå‡½æ•°ï¼Œé€šè¿‡è¿™ä¸¤ä¸ªå‡½æ•°å¯ä»¥åˆ†åˆ«å‘ Promise ä¸­å­˜å‚¨æ•°æ®</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // resolve è¡¨ç¤ºæ‰§è¡Œæ­£å¸¸æ—¶å­˜å‚¨æ•°æ®ï¼Œreject è¡¨ç¤ºæ‰§è¡Œå¼‚å¸¸æ—¶å­˜å‚¨æ•°æ®</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // é€šè¿‡å‡½æ•°æ¥å‘ Promise ä¸­æ·»åŠ æ•°æ®ï¼Œå¥½å¤„å°±æ˜¯å¯ä»¥æ·»åŠ å¼‚æ­¥è°ƒç”¨çš„æ•°æ®</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æˆåŠŸ&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// reject(&quot;å¤±è´¥&quot;)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è·å– Promise ä¸­çš„æ•°æ®</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//  - å¯ä»¥é€šè¿‡ Promise çš„å®ä¾‹æ–¹æ³• then æ¥è¯»å– Promise çš„æ•°æ®</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//  - then éœ€è¦ä¸¤ä¸ªå›è°ƒå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œå›è°ƒå‡½æ•°ç”¨æ¥è·å– Promise ä¸­çš„æ•°æ®</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//    - é€šè¿‡ resolve å­˜å‚¨çš„æ•°æ®ï¼Œä¼šè°ƒç”¨ç¬¬ä¸€ä¸ªå‡½æ•°è¿”å›ï¼Œ</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//      å¯ä»¥åœ¨ç¬¬ä¸€ä¸ªå‡½æ•°ä¸­ç¼–å†™å¤„ç†æ•°æ®çš„ä»£ç </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//    - é€šè¿‡ reject å­˜å‚¨çš„æ•°æ®æˆ–å‡ºç°å¼‚å¸¸æ—¶ï¼Œä¼šè°ƒç”¨ç¬¬äºŒä¸ªå‡½æ•°è¿”å›ï¼Œ</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//      å¯ä»¥åœ¨ç¬¬äºŒä¸ªå‡½æ•°ä¸­ç¼–å†™å¤„ç†å¼‚å¸¸çš„ä»£ç </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">promise.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">result</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;resolve çš„æ•°æ®&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reason</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;reject çš„æ•°æ®&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> reason);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// or</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">promise</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">result</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;resolve çš„æ•°æ®&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reason</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;reject çš„æ•°æ®&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> reason);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">finally</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æ— è®º resolve è¿˜æ˜¯ reject éƒ½ä¼šæ‰§è¡Œ&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span></code></pre></div><p>å›è°ƒåœ°ç‹±çš„è§£å†³</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sum</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">result</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(result, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">30</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">result</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(result, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">40</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">result</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(result, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">50</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">result</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(result);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span></code></pre></div><h4 id="å±æ€§" tabindex="-1">å±æ€§ <a class="header-anchor" href="#å±æ€§" aria-label="Permalink to &quot;å±æ€§&quot;">â€‹</a></h4><p>åœ¨ Promise ä¸­ç»´æŠ¤äº†ä¸¤ä¸ªéšè—çš„å±æ€§</p><ul><li>[[PromiseResult]]ï¼Œç”¨æ¥å­˜å‚¨æ•°æ®</li><li>[[PromiseState]]ï¼Œè®°å½• Promise çŠ¶æ€ï¼Œåªèƒ½ä¿®æ”¹ä¸€æ¬¡ <ul><li><code>pending è¿›è¡Œä¸­</code></li><li><code>fulfilled å®Œæˆ</code>ï¼Œé€šè¿‡ resolve å­˜å‚¨æ•°æ®æ—¶</li><li><code>rejected æ‹’ç»ã€å¼‚å¸¸</code>ï¼Œå½“å‡ºç°å¼‚å¸¸æˆ–é€šè¿‡ reject å­˜å‚¨æ•°æ®æ—¶</li></ul></li></ul><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>åœ¨ Promise ä¸­è°ƒç”¨ thenã€catchã€finally æ–¹æ³•éƒ½ä¼šè¿”å›ä¸€ä¸ª<code>æ–°çš„ Promise</code>ï¼Œåœ¨ thenã€catch ä¸­ <code>æ–°çš„ Promise</code> ä¼šå­˜å‚¨<code>å›è°ƒå‡½æ•°çš„è¿”å›å€¼</code>ï¼Œfinally ä¸­ <code>æ–°çš„ Promise</code>å­˜å‚¨ä¸Šçš„å€¼<code>å§‹ç»ˆä¸º undefined</code>.</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark has-diff vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> promise </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;åˆ›å»º Promise å®ä¾‹&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// promise é“¾å¼è°ƒç”¨</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">promise</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">result</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(result); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// -&gt; åˆ›å»º Promise å®ä¾‹</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;promise å®ä¾‹è°ƒç”¨ then æ–¹æ³•&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">result</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(result); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// -&gt; promise å®ä¾‹è°ƒç”¨ then æ–¹æ³•</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span></code></pre></div></div><h4 id="é™æ€æ–¹æ³•" tabindex="-1">é™æ€æ–¹æ³• <a class="header-anchor" href="#é™æ€æ–¹æ³•" aria-label="Permalink to &quot;é™æ€æ–¹æ³•&quot;">â€‹</a></h4><ul><li>Promise.resolve() <ul><li>åˆ›å»ºä¸€ä¸ªç«‹å³å®Œæˆçš„ Promise</li></ul></li><li>Promise.reject() <ul><li>åˆ›å»ºä¸€ä¸ªç«‹å³æ‹’ç»çš„ Promise</li></ul></li><li>Promise.all([iterable]) <ul><li>åŒæ—¶è¿”å›å¤šä¸ª Promise çš„æ‰§è¡Œç»“æœï¼Œå¦‚æœ‰ä¸€ä¸ª rejected å°±è¿”å›é”™è¯¯</li></ul></li><li>Promise.allSettled([iterable]) <ul><li>åŒæ—¶è¿”å›å¤šä¸ª Promise çš„æ‰§è¡Œç»“æœï¼Œæ— è®ºæˆåŠŸè¿˜æ˜¯å¤±è´¥ fulfilled and rejected</li></ul></li><li>Promise.race([iterable]) <ul><li>è¿”å›æ‰§è¡Œæœ€å¿«çš„ Promiseï¼Œæ— è®ºæˆåŠŸè¿˜æ˜¯å¤±è´¥ fulfilled and rejected</li></ul></li><li>Promise.any([iterable]) <ul><li>è¿”å›æ‰§è¡Œæœ€å¿«å®Œæˆ fulfilled çš„ Promiseï¼Œ</li></ul></li></ul><h2 id="å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡" tabindex="-1">å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡ <a class="header-anchor" href="#å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡" aria-label="Permalink to &quot;å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡&quot;">â€‹</a></h2><p>åœ¨ js ä¸­ï¼Œå®ƒæ˜¯å•çº¿ç¨‹çš„ï¼Œå®ƒçš„è¿è¡Œæ—¶åŸºäº<code>äº‹ä»¶å¾ªç¯æœºåˆ¶(event loop)</code></p><p>å‰ç½®çŸ¥è¯†ï¼š</p><ul><li>æ ˆï¼Œä¸€ç§æ•°æ®ç»“æ„ï¼Œå…ˆè¿›åå‡º</li><li>é˜Ÿåˆ—ï¼Œä¸€ç§æ•°æ®ç»“æ„ï¼Œå…ˆè¿›å…ˆå‡º</li></ul><p>äº‹ä»¶å¾ªç¯æœºåˆ¶ï¼š</p><ul><li>è°ƒç”¨æ ˆï¼Œå­˜æ”¾çš„æ˜¯éœ€è¦æ‰§è¡Œçš„ä»£ç </li><li>ä»»åŠ¡é˜Ÿåˆ—ï¼Œå­˜æ”¾çš„æ˜¯å°†è¦æ‰§è¡Œçš„ä»£ç  <ul><li>å®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå¤§éƒ¨åˆ†ä»£ç éƒ½ä¼šåˆ°æ­¤è¿›è¡Œæ’é˜Ÿ</li><li>å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼ŒPromise çš„å›è°ƒå‡½æ•°</li></ul></li></ul><p>äº‹ä»¶å¾ªç¯æµç¨‹ï¼š</p><ol><li>æ‰§è¡Œè°ƒç”¨æ ˆä¸­çš„ä»£ç </li><li>æ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ä»£ç </li><li>æ‰§è¡Œå®ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ä»£ç </li></ol><div class="info custom-block"><p class="custom-block-title">å°è¯•ç‰›åˆ€</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)));</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div></div><details class="details custom-block"><summary>ç­”æ¡ˆ</summary><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 1 7 3 5 2 6 4</span></span></code></pre></div></details><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>queueMicrotask() å¯ç”¨æ¥å‘å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­æ·»åŠ ä¸€ä¸ªä»»åŠ¡</p></div><h2 id="æ‰‹å†™-promise" tabindex="-1">æ‰‹å†™ Promise <a class="header-anchor" href="#æ‰‹å†™-promise" aria-label="Permalink to &quot;æ‰‹å†™ Promise&quot;">â€‹</a></h2><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> PromiseState</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  PENDING: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  FULFILLED: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  REJECTED: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyPromise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  #result</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  #state</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> PromiseState.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PENDING</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  #callbacksFulfilled</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [];</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  #callbacksRejected</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [];</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  constructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">executor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    executor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.#resolve.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.#reject.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  #</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">result</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.#state </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> PromiseState.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PENDING</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.#result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.#state </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> PromiseState.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">FULFILLED</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    queueMicrotask</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.#callbacksFulfilled.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">cb</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        cb</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  #</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reason</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.#state </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> PromiseState.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PENDING</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.#result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> reason;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.#state </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> PromiseState.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">REJECTED</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    queueMicrotask</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.#callbacksRejected.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">cb</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        cb</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">onFulfilled</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">onRejected</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyPromise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.#state </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> PromiseState.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PENDING</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.#callbacksFulfilled.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">onFulfilled</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.#result));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        });</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.#callbacksRejected.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">onRejected</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.#result));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.#state </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> PromiseState.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">FULFILLED</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        queueMicrotask</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">onFulfilled</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.#result)));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.#state </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> PromiseState.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">REJECTED</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        queueMicrotask</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">onRejected</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.#result)));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> mp</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyPromise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;å“ˆå“ˆ&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">result</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ç¬¬1æ¬¡è¯»å–æ•°æ®&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, result);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">result</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ç¬¬2æ¬¡è¯»å–æ•°æ®&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, result);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><details class="details custom-block"><summary>ç»“æœ</summary><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç¬¬1æ¬¡è¯»å–æ•°æ® å“ˆå“ˆ</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç¬¬2æ¬¡è¯»å–æ•°æ® undefined</span></span></code></pre></div></details><h2 id="async-await" tabindex="-1">async &amp; await <a class="header-anchor" href="#async-await" aria-label="Permalink to &quot;async &amp; await&quot;">â€‹</a></h2><p>é€šè¿‡ async å¯ä»¥åˆ›å»ºä¸€ä¸ªå¼‚æ­¥å‡½æ•°ï¼Œå…¶ä¸­å¼‚æ­¥å‡½æ•°çš„è¿”å›å€¼ä¼šè‡ªåŠ¨å°è£…åˆ°ä¸€ä¸ª Promise ä¸­è¿”å›ï¼›</p><p>åœ¨ async å£°æ˜çš„å¼‚æ­¥å‡½æ•°ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ await å…³é”®å­—æ¥è°ƒç”¨å¼‚æ­¥å‡½æ•°ï¼›</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fun1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç­‰ä»·äº</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fun2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fun3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">123</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">456</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(result, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">789</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(result);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) {} </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¼‚å¸¸æ•è·</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fun3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è¾“å‡º: 1368</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç­‰ä»·äº</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fun4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  sum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">123</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">456</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(res, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">789</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(res);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {}); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¼‚å¸¸æ•è·</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fun4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Promise çš„å‡ºç°è§£å†³äº†å›è°ƒåœ°ç‹±çš„é—®é¢˜ï¼Œä½†æ˜¯è¿‡äº Promise é“¾å¼è°ƒç”¨æ—¶ï¼Œä»£ç çš„å¯è¯»æ€§å˜å·®ï¼Œæ‰€ä»¥å‡ºç°äº† async å’Œ await æ¥å®ç°<code>åŒæ­¥å†™æ³•</code>ã€‚</p></div><p>æ‰§è¡Œé¡ºåº</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  å¦‚æœ async å£°æ˜çš„å‡½æ•°ä¸­æ²¡æœ‰å†™ awaitï¼Œé‚£ä¹ˆä¼šä¾æ¬¡æ‰§è¡Œ</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">*/</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fun5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fun5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è¾“å‡º: 1 2 3</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç­‰ä»·äº</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fun6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fun6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  å¦‚æœä½¿ç”¨ await å…³é”®å­—ï¼Œåˆ™åé¢çš„ä»£ç ï¼Œä¼šåœ¨å½“å‰å‡½æ•°æ‰§è¡Œå®Œæ¯•åï¼Œæ”¾ç½®å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­æ‰§è¡Œ</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">*/</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fun7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fun7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä¾æ­¤è¾“å‡º: 1 2 5 3 4</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç­‰ä»·äº</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fun8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  new</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fun8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">ç»†èŠ‚</p><ol><li>å½“é€šè¿‡ await å»è°ƒç”¨å¼‚æ­¥å‡½æ•°æ—¶ï¼Œå®ƒä¼šæš‚åœä»£ç çš„æ‰§è¡Œï¼Œå¹¶ç­‰å¾…å¼‚æ­¥å‡½æ•°çš„è¿”å›ç»“æœï¼ŒçŸ¥é“å¼‚æ­¥ä»£ç æ‰§è¡Œæœ‰ç»“æœæ—¶ï¼Œæ‰ä¼šå°†ç»“æœè¿”å›ï¼›</li><li>await å¿…é¡»å†™åœ¨ async å‡½æ•°ä¸­ï¼Œæˆ– ES Modules çš„é¡¶çº§ä½œç”¨åŸŸä¸­ï¼›</li><li>await åªä¼šé˜»å¡å¼‚æ­¥å‡½æ•°çš„å†…éƒ¨ä»£ç ï¼Œä¸ä¼šå½±å“å¤–éƒ¨ä»£ç çš„æ‰§è¡Œï¼›</li><li>é€šè¿‡ä½¿ç”¨ await è°ƒç”¨å¼‚æ­¥å‡½æ•°ï¼Œéœ€è¦ä½¿ç”¨ try-catch æ¥å¤„ç†å¼‚å¸¸ï¼›</li><li>å¦‚æœ async å£°æ˜çš„å‡½æ•°ä¸­æ²¡æœ‰å†™ awaitï¼Œé‚£ä¹ˆä¼šä¾æ¬¡æ‰§è¡Œï¼›</li><li>å¦‚æœä½¿ç”¨ await å…³é”®å­—ï¼Œåˆ™åé¢çš„ä»£ç ï¼Œä¼šåœ¨å½“å‰å‡½æ•°æ‰§è¡Œå®Œæ¯•åï¼Œæ”¾ç½®å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­æ‰§è¡Œã€‚</li></ol></div><h2 id="æ¨¡å—åŒ–" tabindex="-1">æ¨¡å—åŒ– <a class="header-anchor" href="#æ¨¡å—åŒ–" aria-label="Permalink to &quot;æ¨¡å—åŒ–&quot;">â€‹</a></h2><p>åœ¨æ—©æœŸçš„ç½‘é¡µä¸­ï¼Œæ˜¯æ²¡æœ‰ä¸€ä¸ªå®è´¨çš„æ¨¡å—åŒ–è§„èŒƒçš„ï¼Œæ­¤å‰æƒ³è¦å®ç°æ¨¡å—çš„æ–¹å¼ï¼Œå°±æ˜¯é€šè¿‡æœ€åŸå§‹çš„æ–¹å¼ script æ ‡ç­¾æ¥å¼•å…¥å¤šä¸ª js æ–‡ä»¶ï¼ˆä¾‹å¦‚ jquery å’Œ bootstrapUIï¼‰ã€‚</p><p>é€šè¿‡ script æ ‡ç­¾å®ç°çš„æ¨¡å—åŒ–ï¼Œä¼šå­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š</p><ol><li>æ— æ³•é€‰æ‹©è¦å¼•å…¥çš„æ¨¡å—å†…å®¹ï¼ˆæ— æ³•æŒ‰éœ€å¼•å…¥ï¼‰</li><li>åœ¨å¤æ‚çš„æ¨¡å—åœºæ™¯ä¸‹éå¸¸å®¹æ˜“å‡ºé”™ï¼ˆå¦‚æœæ¨¡å—ä¹‹é—´å­˜åœ¨ä¾èµ–å…³ç³»ï¼Œé‚£ä¹ˆæ¨¡å—çš„è½½å…¥é¡ºåºæ˜¯éšå½¢è¦æ±‚çš„ï¼‰</li></ol><div class="info custom-block"><p class="custom-block-title">INFO</p><p>jQuery æ˜¯é€šè¿‡ script æ ‡ç­¾å¼•å…¥çš„å½¢å¼æ¥å®Œæˆæ¨¡å—åŒ–çš„ï¼Œå¼•å…¥åå®é™…æ•ˆæœæ˜¯å‘å…¨å±€ä½œç”¨åŸŸä¸­æ·»åŠ äº†ä¸€ä¸ªå˜é‡$ï¼ˆæˆ– jQueryï¼‰è¿™æ ·å¾ˆå®¹æ˜“å‡ºç°æ¨¡å—é—´äº’ç›¸è¦†ç›–çš„æƒ…å†µã€‚å¹¶ä¸”å½“æˆ‘ä»¬ä½¿ç”¨äº†è¾ƒå¤šçš„æ¨¡å—æ—¶ï¼Œæœ‰ä¸€äº›æ¨¡å—æ˜¯ç›¸äº’ä¾èµ–çš„ï¼Œå¿…é¡»å…ˆå¼•å…¥æŸä¸ªç»„ä»¶å†å¼•å…¥æŸä¸ªç»„ä»¶ï¼Œæ¨¡å—æ‰èƒ½å¤Ÿæ­£å¸¸å·¥ä½œã€‚æ¯”å¦‚ jQuery å’Œ jQueryUIï¼Œå°±å¿…é¡»å…ˆå¼•å…¥ jQueryï¼Œå¦‚æœå¼•å…¥é¡ºåºå‡ºé”™å°†å¯¼è‡´ jQueryUI æ— æ³•ä½¿ç”¨ã€‚è¿™è¿˜ä»…ä»…æ˜¯ä¸¤ä¸ªç»„ä»¶ï¼Œè€Œå®é™…å¼€å‘ä¸­çš„ä¾èµ–å…³ç³»å¾€å¾€æ›´åŠ å¤æ‚ï¼Œåƒæ˜¯ a ä¾èµ– bï¼Œb ä¾èµ– cï¼Œc ä¾èµ– d è¿™ç§å…³ç³»ï¼Œå¿…é¡»æŒ‰ç…§ dã€cã€bã€a çš„é¡ºåºè¿›è¡Œå¼•å…¥ï¼Œæœ‰ä¸€ä¸ªé¡ºåºé”™è¯¯å°±ä¼šå¯¼è‡´å…¶ä»–çš„ä¸€èµ·å¤±æ•ˆã€‚æ‰€ä»¥é€šè¿‡ script æ ‡ç­¾å®ç°çš„æ¨¡å—åŒ–æ˜¯éå¸¸çš„ä¸é è°±çš„ã€‚</p><p><a href="https://lilichao.com/?p=6449" target="_blank" rel="noreferrer">è¶…å“¥ç¬”è®°</a></p></div><h3 id="commonjs" tabindex="-1">CommonJS <a class="header-anchor" href="#commonjs" aria-label="Permalink to &quot;CommonJS&quot;">â€‹</a></h3><p>CommonJS æ˜¯ Node.js æœ€æ—©é‡‡ç”¨çš„æ¨¡å—åŒ–è§„èŒƒï¼ˆ2009 å¹´ï¼‰ã€é»˜è®¤ã€‘ã€‚</p><p><strong>æ–‡ä»¶ä½œä¸ºæ¨¡å—</strong>æ—¶ï¼Œå¼•å…¥æ¨¡å—ï¼š</p><ul><li>ä½¿ç”¨ require(&quot;æ¨¡å—çš„è·¯å¾„&quot;)å‡½æ•°æ¥å¼•å…¥æ¨¡å—</li><li>å¼•å…¥<code>è‡ªå®šä¹‰æ¨¡å—</code>æ—¶ <ul><li>æ¨¡å—åè¦ä»¥ ./ æˆ– ../ å¼€å¤´</li><li>æ‰©å±•åå¯ä»¥çœç•¥ <ul><li>åœ¨ CommonJS ä¸­ï¼Œå¦‚æœçœç•¥çš„ js æ–‡ä»¶çš„æ‰©å±•å nodeï¼Œä¼šè‡ªåŠ¨ä¸ºæ–‡ä»¶è¡¥å…¨æ‰©å±•å ./m1.js å¦‚æœæ²¡æœ‰ js å®ƒä¼šå¯»æ‰¾ ./m1.json</li><li>æœç´¢ä¼˜å…ˆçº§ï¼š.js --&gt; .json --&gt; .nodeï¼ˆç‰¹æ®Šï¼‰</li></ul></li></ul></li><li>å¼•å…¥<code>æ ¸å¿ƒæ¨¡å—</code>æ—¶ <ul><li>ç›´æ¥å†™æ ¸å¿ƒæ¨¡å—çš„åå­—å³å¯</li><li>ä¹Ÿå¯ä»¥åœ¨æ ¸å¿ƒæ¨¡å—å‰æ·»åŠ  &#39;<strong>node:</strong>&#39; ï¼ˆå¯ä»¥åŠ å¿«æ¨¡å—çš„æ£€ç´¢æ—¶é—´ï¼‰</li></ul></li></ul><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark has-diff vp-code" tabindex="0"><code><span class="line diff add"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* index.js */</span></span>
<span class="line diff add"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¼•å…¥</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;path&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¯¼å…¥æ ¸å¿ƒæ¨¡å—</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;node:path&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ•ˆæœåŒä¸Š</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> m1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./m1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(m1); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è¾“å‡ºï¼š{ a: &#39;å­™æ‚Ÿç©º&#39; }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(m1.a); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è¾“å‡ºï¼šå­™æ‚Ÿç©º</span></span>
<span class="line"></span>
<span class="line diff add"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* m1.js */</span></span>
<span class="line diff add"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¯¼å‡º</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/*</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  åœ¨å®šä¹‰æ¨¡å—æ—¶ï¼Œæ¨¡å—ä¸­çš„å†…å®¹é»˜è®¤æ˜¯ä¸èƒ½è¢«å¤–éƒ¨çœ‹åˆ°çš„ï¼Œå¯ä»¥é€šè¿‡exportsæ¥è®¾ç½®è¦å‘å¤–éƒ¨æš´éœ²çš„å†…å®¹ã€‚</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  è®¿é—®exportsçš„æ–¹å¼æœ‰ä¸¤ç§ï¼š</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    - exports</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    - module.exports</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  å½“æˆ‘ä»¬åœ¨å…¶ä»–æ¨¡å—ä¸­å¼•å…¥å½“å‰æ¨¡å—æ—¶ï¼Œrequire å‡½æ•°è¿”å›çš„å°±æ˜¯ exportsï¼Œå¯ä»¥å°†å¸Œæœ›æš´éœ²ç»™å¤–éƒ¨æ¨¡å—çš„å†…å®¹è®¾ç½®ä¸º exports çš„å±æ€§ã€‚</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">*/</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;å­™æ‚Ÿç©º&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// module.exports === export</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">export.a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æˆ–è€…</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  a: a,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>æŒ‰éœ€åŠ è½½</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark has-diff vp-code" tabindex="0"><code><span class="line diff add"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* index.js */</span></span>
<span class="line diff add"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¼•å…¥</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./m1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).name;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æˆ–è€…</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./m1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è§£æ„èµ‹å€¼</span></span>
<span class="line"></span>
<span class="line diff add"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* m2.js */</span></span>
<span class="line diff add"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¯¼å‡º</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;å­™æ‚Ÿç©º&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  age: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">18</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  gender: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ç”·&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p><strong>æ–‡ä»¶å¤¹ä½œä¸ºæ¨¡å—</strong>æ—¶ï¼š</p><p>å½“æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªæ–‡ä»¶å¤¹ä½œä¸ºæ¨¡å—æ—¶ï¼Œæ–‡ä»¶å¤¹ä¸­å¿…é¡»æœ‰ä¸€ä¸ªæ¨¡å—çš„ä¸»æ–‡ä»¶ã€‚å¦‚æœæ–‡ä»¶å¤¹ä¸­å«æœ‰ package.json æ–‡ä»¶ä¸”æ–‡ä»¶ä¸­è®¾ç½® main å±æ€§ï¼Œåˆ™ main å±æ€§æŒ‡å®šçš„æ–‡ä»¶ä¼šæˆä¸ºä¸»æ–‡ä»¶ï¼Œå¯¼å…¥æ¨¡å—æ—¶å°±æ˜¯å¯¼å…¥è¯¥æ–‡ä»¶ã€‚å¦‚æœæ²¡æœ‰ package.jsonï¼Œåˆ™ node ä¼šæŒ‰ç…§ index.jsã€index.node çš„é¡ºåºå¯»æ‰¾ä¸»æ–‡ä»¶ã€‚</p><p><strong>æ¨¡å—çš„åŒ…è£…</strong>ï¼š</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">exports</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">__filename</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">__dirname</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // æ¨¡å—ä»£ç ä¼šè¢«æ”¾åˆ°è¿™é‡Œ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><p>æ¯ä¸€ä¸ª CommonJS æ¨¡å—åœ¨æ‰§è¡Œæ—¶ï¼Œå¤–å±‚éƒ½ä¼šè¢«å¥—ä¸Šä¸€ä¸ªå‡½æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹‹æ‰€ä»¥èƒ½åœ¨ CommonJS æ¨¡å—ä¸­ä½¿ç”¨ exportsã€require å¹¶ä¸æ˜¯å› ä¸ºå®ƒä»¬æ˜¯å…¨å±€å˜é‡ã€‚å®ƒä»¬å®é™…ä¸Šä»¥å‚æ•°çš„å½¢å¼ä¼ é€’è¿›æ¨¡å—çš„ã€‚</p><p>å‚æ•°ï¼š</p><ul><li>exports ç”¨æ¥è®¾ç½®æ¨¡å—å‘å¤–éƒ¨æš´éœ²çš„å†…å®¹</li><li>require ç”¨æ¥å¼•å…¥æ¨¡å—çš„æ–¹æ³•</li><li>module å½“å‰æ¨¡å—çš„å¼•ç”¨</li><li>__filename æ¨¡å—çš„è·¯å¾„</li><li>__dirname æ¨¡å—æ‰€åœ¨ç›®å½•çš„è·¯å¾„</li></ul><h3 id="esmodule" tabindex="-1">ESModule <a class="header-anchor" href="#esmodule" aria-label="Permalink to &quot;ESModule&quot;">â€‹</a></h3><p>2015 å¹´éšç€ ES6 æ ‡å‡†çš„å‘å¸ƒï¼ŒES çš„å†…ç½®æ¨¡å—åŒ–ç³»ç»Ÿä¹Ÿåº”è¿è€Œç”Ÿï¼Œå¹¶ä¸”åœ¨ Node.js ä¸­åŒæ ·ä¹Ÿæ”¯æŒ ES æ ‡å‡†çš„æ¨¡å—åŒ–ã€‚è¯´æ¥è¯´å»ä½¿ç”¨æ¨¡å—åŒ–æ— ééœ€è¦æ³¨æ„ä¸¤ä»¶äº‹å¯¼å‡ºå’Œå¼•å…¥ã€‚</p><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œnode çš„æ¨¡å—åŒ–æ˜¯ CommonJSï¼Œå¦‚æƒ³è¦ä½¿ç”¨ ESModuleï¼Œæœ‰ä»¥ä¸‹ä¸¤ç§æ–¹å¼ã€‚</p><ul><li>ä½¿ç”¨ .mjs ä½œä¸ºæ–‡ä»¶æ‰©å±•å</li><li>åœ¨ package.json ä¸­è®¾ç½® type å±æ€§ä¸º module</li></ul><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark has-diff vp-code" tabindex="0"><code><span class="line diff add"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* m3.mjs */</span></span>
<span class="line diff add"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¯¼å‡º</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;çŒªå…«æˆ’&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> information </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  age: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">19</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  gender: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ç”·&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å®šä¹‰é»˜è®¤æ¨¡å—</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä¸€ä¸ªæ¨¡å—åªèƒ½æœ‰ä¸€ä¸ªé»˜è®¤æ¨¡å—</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sayHello</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Hello&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line diff add"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* index.js */</span></span>
<span class="line diff add"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¯¼å…¥</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { name, information } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;./m3.mjs&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æˆ–è€…</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> n, information </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;./m3.mjs&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä¸ºå¯¼å…¥çš„æ¨¡å—é‡æ–°å‘½å</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æˆ–è€…</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> m3 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;./m3.mjs&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¯¼å…¥æ‰€æœ‰æ¨¡å—ï¼Œå¹¶èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ã€‚</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æˆ–è€…</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sayHello, { name, information } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;./m3.mjs&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¯¼å…¥é»˜è®¤æ¨¡å—</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>é€šè¿‡ ESMï¼Œå¯¼å…¥çš„å†…å®¹éƒ½æ˜¯å¸¸é‡ï¼›</p><p>ESM éƒ½æ˜¯è¿è¡Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹çš„ï¼›</p><p>ESM åœ¨æµè§ˆå™¨ä¸­åŒæ ·æ”¯æŒï¼Œä½†æ˜¯å¯èƒ½ä¼šå­˜åœ¨å…¼å®¹æ€§é—®é¢˜ï¼ˆIEï¼‰ï¼Œä¸ºæ­¤é€šå¸¸ä¼šç»“åˆæ‰“åŒ…å·¥å…·ä½¿ç”¨ï¼›</p></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p><code>.cjs</code> æ–‡ä»¶æ˜¯ CommonJS æ¨¡å—çš„æ–‡ä»¶æ‰©å±•åï¼Œ<code>.mjs</code> æ–‡ä»¶æ˜¯ ESModule æ¨¡å—çš„æ–‡ä»¶æ‰©å±•åã€‚</p></div><h2 id="æ ¸å¿ƒæ¨¡å—" tabindex="-1">æ ¸å¿ƒæ¨¡å— <a class="header-anchor" href="#æ ¸å¿ƒæ¨¡å—" aria-label="Permalink to &quot;æ ¸å¿ƒæ¨¡å—&quot;">â€‹</a></h2><p>æ ¸å¿ƒæ¨¡å—æ˜¯ node ä¸­çš„å†…ç½®æ¨¡å—ï¼Œè¿™äº›æ¨¡å—æœ‰çš„å¯ä»¥ç›´æ¥åœ¨ node ä¸­ä½¿ç”¨ï¼Œæœ‰çš„ç›´æ¥å¼•å…¥å³å¯ä½¿ç”¨ã€‚</p><h3 id="process" tabindex="-1">process <a class="header-anchor" href="#process" aria-label="Permalink to &quot;process&quot;">â€‹</a></h3><p>process</p><ul><li>è¡¨ç¤ºå½“å‰çš„ node è¿›ç¨‹</li><li>é€šè¿‡è¯¥å¯¹è±¡å¯ä»¥è·å–è¿›ç¨‹ä¿¡æ¯ï¼Œæˆ–è€…å¯¹è¿›ç¨‹è¿›è¡Œæ“ä½œ</li><li>å¦‚ä½•ä½¿ç”¨ <ul><li><ol><li>process æ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨</li></ol></li><li><ol start="2"><li>å±æ€§å’Œæ–¹æ³•</li></ol><ul><li>process.exit([StatusCode]) <ul><li>ç»“æŸå½“å‰è¿›ç¨‹ï¼Œç»ˆæ­¢ node</li></ul></li><li>process.nextTick(callback [, ...args]) <ul><li>å°†å‡½æ•°æ’å…¥åˆ° tick é˜Ÿåˆ—ä¸­</li><li>tick é˜Ÿåˆ—ä¸­çš„ä»£ç ï¼Œä¼šåœ¨ä¸‹ä¸€æ¬¡äº‹ä»¶å¾ªç¯ä¹‹å‰æ‰§è¡Œï¼Œå³ä¼šåœ¨å¾®ä»»åŠ¡é˜Ÿåˆ—å’Œå®ä»»åŠ¡é˜Ÿåˆ—çš„ä¹‹å‰æ‰§è¡Œ</li></ul></li></ul></li></ul></li></ul><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å®ä»»åŠ¡é˜Ÿåˆ—</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">queueMicrotask</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¾®ä»»åŠ¡é˜Ÿåˆ—</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">process.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nextTick</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// tick é˜Ÿåˆ—</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è°ƒç”¨æ ˆ</span></span></code></pre></div><details class="details custom-block"><summary>ç»“æœ</summary><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 4 3 2 1</span></span></code></pre></div></details><h3 id="path" tabindex="-1">path <a class="header-anchor" href="#path" aria-label="Permalink to &quot;path&quot;">â€‹</a></h3><p>path</p><ul><li>è¡¨ç¤ºè·¯å¾„</li><li>é€šè¿‡è¯¥å¯¹è±¡ï¼Œå¯ä»¥è·å–å„ç§è·¯å¾„</li><li>å¦‚ä½•ä½¿ç”¨ <ul><li><ol><li>ä¸æ˜¯å…¨å±€å˜é‡ï¼Œéœ€è¦è¿›è¡Œå¼•å…¥</li></ol><ul><li>const path = require(&quot;node:path&quot;);</li></ul></li><li><ol start="2"><li>å±æ€§å’Œæ–¹æ³•</li></ol><ul><li>path.resolve([...paths]) <ul><li>ç”¨æ¥ç”Ÿæˆä¸€ä¸ªç»å¯¹è·¯å¾„</li></ul></li></ul></li></ul></li></ul><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;path&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> href </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">href </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> path.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è·å–å½“å‰çš„å·¥ä½œç›®å½•ç»å¯¹è·¯å¾„ï¼Œç”±äºè¿è¡Œçš„ä½ç½®ä¸åŒï¼Œè°ƒè¯•æ§åˆ¶å°å’Œç»ˆç«¯å¾—åˆ°çš„è·¯å¾„ä¼šæœ‰å‡ºå…¥ï¼Œå­˜åœ¨ä¸ç¡®å®šæ€§</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(href); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è¾“å‡º C:\\Users\\23248\\Desktop\\apecode</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">href </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> path.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./hello.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è·å– hello æ¨¡å—çš„ç»å¯¹è·¯å¾„ï¼Œå­˜åœ¨ä¸ç¡®å®šæ€§</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(href); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è¾“å‡º C:\\Users\\23248\\Desktop\\apecode\\hello.js</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">href </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> path.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;C:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Users</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">23248</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Desktop</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">apecode&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./hello.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æŒ‡å®šå·¥ä½œç›®å½•ç»å¯¹è·¯å¾„å’Œæ¨¡å—çš„ç›¸å¯¹è·¯å¾„ï¼Œè®¡ç®—å‡ºè¯¥æ¨¡å—çš„ç»å¯¹è·¯å¾„ï¼Œå±äºç¡¬ç¼–ç </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(href); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// C:\\Users\\23248\\Desktop\\apecode\\hello.js</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">href </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> path.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(__dirname, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./hello.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æœ€ç»ˆæ¨¡å—çš„ç»å¯¹è·¯å¾„è·å–æ–¹å¼ã€æ¨èã€‘</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(href); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// C:\\Users\\23248\\Desktop\\apecode\\hello.js</span></span></code></pre></div><h3 id="fs" tabindex="-1">fs <a class="header-anchor" href="#fs" aria-label="Permalink to &quot;fs&quot;">â€‹</a></h3><p>fs(File System)</p><ul><li>æ–‡ä»¶ç³»ç»Ÿ</li><li>ç”¨æ¥å¸®åŠ© node æ¥æ“ä½œç£ç›˜ä¸­çš„æ–‡ä»¶ï¼ŒI/O æ“ä½œï¼ˆinput outputï¼‰</li><li>å¦‚ä½•ä½¿ç”¨ <ul><li><ol><li>ä¸æ˜¯å…¨å±€å˜é‡ï¼Œéœ€è¦è¿›è¡Œå¼•å…¥</li></ol><ul><li>const fs = require(&quot;node:fs&quot;)</li></ul></li><li><ol start="2"><li>å±æ€§å’Œæ–¹æ³•ï¼ˆå›è°ƒå‡½æ•°ç‰ˆæœ¬ï¼‰</li></ol><ul><li>fs.readFile(path[, options], callback) è¯»å–æ–‡ä»¶</li><li>fs.appendFile(path[, options], data[, encoding], callback) åˆ›å»ºæ–°æ–‡ä»¶ï¼Œæˆ–è¿½åŠ æ–°æ•°æ®</li><li>fs.mkdir(path[, options], callback) åˆ›å»ºç›®å½•</li><li>fs.rmdir(path[, options], callback) åˆ é™¤ç›®å½•</li><li>fs.rm(path[, options], callback) åˆ é™¤æ–‡ä»¶</li><li>fs.rename(oldPath, newPath, callback) é‡å‘½åæ–‡ä»¶æˆ–ç›®å½•ï¼ˆå¤åˆ¶ï¼‰</li><li>fs.copyFile(src, dest, callback) å¤åˆ¶æ–‡ä»¶ï¼ˆå‰ªåˆ‡ï¼‰</li></ul></li></ul></li></ul><p>åŸºäº fs æ¨¡å—çš„ readFile æ–¹æ³•ï¼Œåˆ†åˆ«é€šè¿‡åŒæ­¥æ–¹æ³•ï¼Œå¼‚æ­¥æ–¹æ³•ï¼ŒPromise å†™æ³•ï¼Œä»¥åŠ async/await å†™æ³•æ¥è¯»å–æ–‡ä»¶å†…å®¹ã€‚</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;node:path&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> fs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;node:fs&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> fsp</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;node:fs/promises&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ³¨æ„ï¼Œéœ€è¦ node v14.0.0 åŠä»¥ä¸Š</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åŒæ­¥æ–¹æ³•ï¼Œä¼šé˜»å¡åé¢çš„ä»£ç æ‰§è¡Œ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> buffer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> fs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFileSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(path.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">join</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(__dirname, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./hello.txt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æ–‡ä»¶å†…å®¹:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, buffer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;è¯»å–æ–‡ä»¶å‡ºé”™:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, err);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¼‚æ­¥æ–¹æ³•</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(path.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">join</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(__dirname, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./hello.txt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">buffer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;è¯»å–æ–‡ä»¶å‡ºé”™:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, err);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æ–‡ä»¶å†…å®¹:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, buffer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¼‚æ­¥æ–¹æ³•ï¼ŒPromise</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fsp</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(path.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">join</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(__dirname, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./hello.txt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">buffer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æ–‡ä»¶å†…å®¹:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, buffer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;è¯»å–æ–‡ä»¶å‡ºé”™:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, err);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¼‚æ­¥æ–¹æ³•ï¼Œasync/await</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> buffer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> fsp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(path.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">join</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(__dirname, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./hello.txt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æ–‡ä»¶å†…å®¹:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, buffer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(err);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})();</span></span></code></pre></div><p>æµ‹è¯•æ–‡ä»¶</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>ä»Šå¤©å¤©æ°”çœŸä¸é”™ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥ä¸Šè¯¾</span></span></code></pre></div><p>åŸºäº fs.readFile å’Œ fs.appendFile å®ç°æ–‡ä»¶å¤åˆ¶åŠŸèƒ½ã€‚</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;node:path&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> fsp</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;node:fs/promises&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fsp</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;C:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Users</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">23248</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Desktop</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">test.jpg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">buffer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> fsp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">appendFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(path.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(__dirname, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./test-img-copy.jpg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), buffer);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;å¤åˆ¶æˆåŠŸ&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;å¤åˆ¶å¤±è´¥ï¼š&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, err);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span></code></pre></div><h2 id="åŒ…ç®¡ç†å™¨" tabindex="-1">åŒ…ç®¡ç†å™¨ <a class="header-anchor" href="#åŒ…ç®¡ç†å™¨" aria-label="Permalink to &quot;åŒ…ç®¡ç†å™¨&quot;">â€‹</a></h2><blockquote><p>éšç€é¡¹ç›®å¤æ‚åº¦çš„æå‡ï¼Œåœ¨å¼€å‘ä¸­ä¸å¯èƒ½æ‰€æœ‰çš„ä»£ç éƒ½è¦æ‰‹åŠ¨ä¸€è¡Œä¸€è¡Œçš„ç¼–å†™ï¼Œäºæ˜¯æˆ‘ä»¬å°±éœ€è¦ä¸€äº›å°†ä¸€äº›ç°æˆå†™å¥½çš„ä»£ç å¼•å…¥åˆ°æˆ‘ä»¬çš„é¡¹ç›®ä¸­æ¥å¸®åŠ©æˆ‘ä»¬å®Œæˆå¼€å‘ï¼Œå°±åƒæ˜¯æˆ‘ä»¬ä¹‹å‰ä½¿ç”¨ jQueryã€‚jQuery è¿™ç§å¤–éƒ¨ä»£ç åœ¨é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å°†å…¶ç§°ä¹‹ä¸ºåŒ…ã€‚</p></blockquote><h3 id="npm" tabindex="-1">npm <a class="header-anchor" href="#npm" aria-label="Permalink to &quot;npm&quot;">â€‹</a></h3><p>node ä¸­çš„åŒ…ç®¡ç†å±€å«åš npmï¼ˆnode package manageï¼‰ï¼Œnpm æ˜¯ä¸–ç•Œä¸Šæœ€å¤§çš„åŒ…ç®¡ç†åº“ã€‚</p><p>npm ç”±ä»¥ä¸‹ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆï¼š</p><ol><li>npm ç½‘ç«™ ï¼ˆé€šè¿‡ npm ç½‘ç«™å¯ä»¥æŸ¥æ‰¾åŒ…ï¼Œä¹Ÿå¯ä»¥ç®¡ç†è‡ªå·±å¼€å‘æäº¤åˆ° npm ä¸­çš„åŒ…ã€‚<a href="https://www.npmjs.com/" target="_blank" rel="noreferrer">https://www.npmjs.com/</a></li><li>npm CLIï¼ˆCommand Line Interface å³ å‘½ä»¤è¡Œï¼‰ï¼ˆé€šè¿‡ npm çš„å‘½ä»¤è¡Œï¼Œå¯ä»¥åœ¨è®¡ç®—æœºä¸­æ“ä½œ npm ä¸­çš„å„ç§åŒ…ï¼ˆä¸‹è½½å’Œä¸Šä¼ ç­‰ï¼‰ï¼‰</li><li>ä»“åº“ï¼ˆä»“åº“ç”¨æ¥å­˜å‚¨åŒ…ä»¥åŠåŒ…ç›¸å…³çš„å„ç§ä¿¡æ¯ï¼‰</li></ol><h3 id="package-json" tabindex="-1">package.json <a class="header-anchor" href="#package-json" aria-label="Permalink to &quot;package.json&quot;">â€‹</a></h3><p>package.json é¡¾åæ€ä¹‰ï¼Œå®ƒå°±æ˜¯ä¸€ä¸ªç”¨æ¥æè¿°åŒ…çš„ json æ–‡ä»¶ï¼Œnode é€šè¿‡è¯¥æ–‡ä»¶å¯¹é¡¹ç›®è¿›è¡Œæè¿°ï¼Œæ¯ä¸€ä¸ª node é¡¹ç›®å¿…é¡»è¦æœ‰ã€‚å®ƒé‡Œè¾¹éœ€è¦ä¸€ä¸ª json æ ¼å¼çš„æ•°æ®ï¼ˆjson å¯¹è±¡ï¼‰ï¼Œåœ¨ json æ–‡ä»¶ä¸­é€šè¿‡å„ä¸ªå±æ€§æ¥æè¿°åŒ…çš„åŸºæœ¬ä¿¡æ¯ï¼ŒåƒåŒ…åã€ç‰ˆæœ¬ã€ä¾èµ–ç­‰åŒ…ç›¸å…³çš„ä¸€åˆ‡ä¿¡æ¯ã€‚</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;desktop&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1.0.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;description&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;main&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;index.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;scripts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;test&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;echo </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Error: no test specified</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &amp;&amp; exit 1&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;keywords&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;author&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;license&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ISC&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>é…ç½®å±æ€§è¯´æ˜ï¼š</p><ul><li>nameï¼ˆå¿…å¤‡ï¼‰ <ul><li>åŒ…çš„åç§°ï¼Œå¯ä»¥åŒ…å«å°å†™å­—æ¯ã€_å’Œ-</li></ul></li><li>versionï¼ˆå¿…å¤‡ï¼‰ <ul><li>åŒ…çš„ç‰ˆæœ¬ï¼Œéœ€è¦éµä» x.x.x çš„æ ¼å¼</li><li>è§„åˆ™ï¼š</li><li>ç‰ˆæœ¬ä» 1.0.0 å¼€å§‹</li><li>ä¿®å¤é”™è¯¯ï¼Œå…¼å®¹æ—§ç‰ˆï¼ˆè¡¥ä¸ï¼‰1.0.1ã€1.0.2</li><li>æ·»åŠ åŠŸèƒ½ï¼Œå…¼å®¹æ—§ç‰ˆï¼ˆå°æ›´æ–°ï¼‰1.1.0</li><li>æ›´æ–°åŠŸèƒ½ï¼Œå½±å“å…¼å®¹ï¼ˆå¤§æ›´æ–°ï¼‰2.0.0</li></ul></li><li>author <ul><li>åŒ…çš„ä½œè€…ï¼Œæ ¼å¼ï¼šYour Name &lt;email@example.com&gt;</li></ul></li><li>description <ul><li>åŒ…çš„æè¿°</li></ul></li><li>repository <ul><li>ä»“åº“åœ°å€ï¼ˆgitï¼‰</li></ul></li><li>scripts <ul><li>è‡ªå®šä¹‰ä¸€äº›å‘½ä»¤</li><li>start å’Œ test å¯ä»¥ç›´æ¥é€šè¿‡ npm + æ‰§è¡Œï¼Œå…¶ä½™éœ€è¦ npm run + æ‰§è¡Œ</li></ul></li></ul><div class="tip custom-block"><p class="custom-block-title">ç‰ˆæœ¬æè¿°</p><p>è®¾ç½®ä¾èµ–é¡¹æ—¶&quot;lodash&quot;: &quot;^4.17.21&quot;å‰è¾¹çš„ loadsh è¡¨ç¤ºåŒ…çš„åå­—ï¼Œåè¾¹æ˜¯åŒ…çš„ç‰ˆæœ¬ã€‚&quot;^4.17.21&quot;è¡¨ç¤ºåŒ¹é…æœ€æ–°çš„ 4.x.x çš„ç‰ˆæœ¬ï¼Œä¹Ÿå°±æ˜¯å¦‚æœåæœŸ lodash åŒ…æ›´æ–°åˆ°äº† 4.18.1ï¼Œæˆ‘ä»¬çš„åŒ…ä¹Ÿä¼šä¸€èµ·æ›´æ–°ï¼Œä½†æ˜¯å¦‚æœæ›´æ–°åˆ°äº† 5.0.0ï¼Œæˆ‘ä»¬çš„åŒ…æ˜¯ä¸ä¼šéšä¹‹æ›´æ–°çš„ã€‚å¦‚æœæ˜¯&quot;~4.17.21&quot;ï¼Œ~è¡¨ç¤ºåŒ¹é…æœ€å°ä¾èµ–ï¼Œä¹Ÿå°±æ˜¯ 4.17.xã€‚å¦‚æœæ˜¯&quot;*&quot;åˆ™è¡¨ç¤ºåŒ¹é…æœ€æ–°ç‰ˆæœ¬ï¼Œå³ x.x.xï¼ˆä¸å»ºè®®ä½¿ç”¨ï¼‰ã€‚å½“ç„¶ä¹Ÿå¯ä»¥ä¸åŠ ä»»ä½•å‰ç¼€ï¼Œè¿™æ ·åªä¼šåŒ¹é…åˆ°å½“å‰ç‰ˆæœ¬ã€‚</p></div><h3 id="ç›¸å…³å‘½ä»¤" tabindex="-1">ç›¸å…³å‘½ä»¤ <a class="header-anchor" href="#ç›¸å…³å‘½ä»¤" aria-label="Permalink to &quot;ç›¸å…³å‘½ä»¤&quot;">â€‹</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1. åˆå§‹åŒ–é¡¹ç›®</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># åˆ›å»º package.json æ–‡ä»¶ï¼ˆéœ€è¦å›ç­”é—®é¢˜ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> init</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># åˆ›å»º package.json æ–‡ä»¶ï¼ˆæ‰€æœ‰å€¼éƒ½é‡‡ç”¨é»˜è®¤å€¼ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> init</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 2. ä¸‹è½½åŒ…</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å°†æŒ‡å®šåŒ…ä¸‹è½½åˆ°å½“å‰é¡¹ç›®ä¸­</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> åŒ…å</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å°†æŒ‡å®šåŒ…ä¸‹è½½åˆ°å…¨å±€ï¼Œå¸¸å¸¸ä½¿ç”¨äºè„šæ‰‹æ¶ç­‰</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> åŒ…å</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># è‡ªåŠ¨å®‰è£…æ‰€æœ‰ä¾èµ–</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 3. å¸è½½åŒ…</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å¸è½½æŒ‡å®šåŒ…</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> uninstall</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> åŒ…å</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å¸è½½æŒ‡å®šå…¨å±€åŒ…</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> uninstall</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> åŒ…å</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å®‰è£…æŒ‡å®šç‰ˆæœ¬</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lodash@3.2.0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å®‰è£…å¤§äºçš„ç‰ˆæœ¬</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lodash@&quot;&gt; 3.2.0&quot;</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">npm install æ—¶å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</p><ol><li>å°†åŒ…ä¸‹è½½å½“å‰é¡¹ç›®çš„ node_modules ç›®å½•ä¸‹</li><li>ä¼šåœ¨ package.json çš„ dependencies å±æ€§ä¸­æ·»åŠ ä¸€ä¸ªæ–°å±æ€§ &quot;lodash&quot;: &quot;^4.17.21&quot;</li><li>ä¼šè‡ªåŠ¨æ·»åŠ  package-lock.json æ–‡ä»¶ï¼Œå¸®åŠ©åŠ é€Ÿ npm ä¸‹è½½çš„</li></ol></div><h3 id="é…ç½®é•œåƒ" tabindex="-1">é…ç½®é•œåƒ <a class="header-anchor" href="#é…ç½®é•œåƒ" aria-label="Permalink to &quot;é…ç½®é•œåƒ&quot;">â€‹</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1. ä½¿ç”¨å›½å†…é•œåƒ</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ä½¿ç”¨ cnpm</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cnpm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --registry=https://registry.npmmirror.com</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 2. ä¿®æ”¹ npm æº</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># é…ç½® npm æº</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> registry</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://registry.npmmirror.com</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æŸ¥çœ‹ npm æº</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> registry</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># åˆ é™¤ npm æº</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> delete</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> registry</span></span></code></pre></div><h3 id="yarn-pnpm" tabindex="-1">yarn &amp; pnpm <a class="header-anchor" href="#yarn-pnpm" aria-label="Permalink to &quot;yarn &amp; pnpm&quot;">â€‹</a></h3><p>æˆªæ­¢ç›®å‰ï¼Œå·²ç»æœ‰å››å¤§åŒ…ç®¡ç†å™¨ï¼Œåˆ†åˆ«æ˜¯ npmã€yarnã€pnpm å’Œ bunã€‚</p><ol><li>npmï¼ˆNode Package Managerï¼‰ï¼š</li></ol><ul><li>npm æ˜¯ Node.js å®˜æ–¹çš„åŒ…ç®¡ç†å·¥å…·ï¼Œæ˜¯ JavaScript ç¤¾åŒºä¸­æœ€å¸¸ç”¨çš„å·¥å…·ä¹‹ä¸€ã€‚</li><li>å®ƒå…·æœ‰åºå¤§çš„åŒ…ç”Ÿæ€ç³»ç»Ÿï¼ŒåŒ…å«äº†å‡ ä¹æ‰€æœ‰ JavaScript åŒ…ã€‚</li><li>npm æä¾›äº†ä¸°å¯Œçš„åŠŸèƒ½ï¼ŒåŒ…æ‹¬å®‰è£…ã€å¸è½½ã€æ›´æ–°åŒ…ï¼Œä»¥åŠç®¡ç†é¡¹ç›®çš„ä¾èµ–å…³ç³»ã€‚</li></ul><ol start="2"><li>Yarnï¼š</li></ol><ul><li>Yarn æ˜¯ç”± Facebookã€Googleã€Exponent å’Œ Tilde è”åˆå¼€å‘çš„å¦ä¸€ç§åŒ…ç®¡ç†å·¥å…·ã€‚</li><li>å®ƒçš„è®¾è®¡ç›®æ ‡æ˜¯è§£å†³ npm åœ¨æ€§èƒ½å’Œä¸€è‡´æ€§æ–¹é¢çš„ä¸€äº›é—®é¢˜ï¼Œé€šè¿‡å¹¶è¡Œä¸‹è½½ã€æœ¬åœ°ç¼“å­˜å’Œé”æ–‡ä»¶ç­‰åŠŸèƒ½æé«˜äº†åŒ…çš„å®‰è£…é€Ÿåº¦å’Œå¯é æ€§ã€‚</li><li>Yarn å¯ä»¥ä¸ npm å…¼å®¹ï¼Œå¹¶ä¸”èƒ½å¤Ÿä½¿ç”¨ npm å­˜å‚¨åº“ã€‚</li></ul><ol start="3"><li>pnpmï¼š</li></ol><ul><li>pnpm æ˜¯å¦ä¸€ç§åŒ…ç®¡ç†å·¥å…·ï¼Œå®ƒé€šè¿‡å…±äº«ä¾èµ–ï¼Œå‡å°‘äº†é¡¹ç›®é—´çš„é‡å¤ä¾èµ–ï¼Œä»è€Œå‡å°‘äº†ç£ç›˜ç©ºé—´çš„å ç”¨å’Œå®‰è£…æ—¶é—´ã€‚</li><li>pnpm çš„è®¾è®¡ç†å¿µæ˜¯å°½å¯èƒ½åœ°å‡å°‘å†—ä½™ï¼Œä»¥æé«˜æ€§èƒ½å’Œæ•ˆç‡ã€‚</li></ul><ol start="4"><li>Bunï¼š</li></ol><ul><li>Bun æ˜¯ä¸€ä¸ªç›¸å¯¹è¾ƒæ–°çš„åŒ…ç®¡ç†å·¥å…·ï¼Œå®ƒçš„ç›®æ ‡æ˜¯æä¾›æ›´å¿«ã€æ›´ç®€æ´çš„è§£å†³æ–¹æ¡ˆï¼Œä»¥æ›¿ä»£ä¼ ç»Ÿçš„ npmã€Yarn å’Œ pnpmã€‚</li><li>Bun é‡‡ç”¨äº†ä¸€äº›ä¼˜åŒ–ç­–ç•¥ï¼Œä»¥åŠ é€ŸåŒ…çš„å®‰è£…å’Œç®¡ç†è¿‡ç¨‹ï¼ŒåŒæ—¶è¯•å›¾ç®€åŒ–ç”¨æˆ·ç•Œé¢å’Œå‘½ä»¤ã€‚</li></ul><p><a href="https://yarnpkg.com/" target="_blank" rel="noreferrer">yarn å®˜ç½‘ ğŸ‘‰</a></p><p><a href="https://pnpm.io/" target="_blank" rel="noreferrer">pnpm å®˜ç½‘ ğŸ‘‰</a></p><p><a href="https://bun.sh.cn/" target="_blank" rel="noreferrer">bun å®˜ç½‘ ğŸ‘‰</a></p><p>å‘½ä»¤</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group--T4Gz" id="tab-YwT1qpS" checked><label data-title="yarn" for="tab-YwT1qpS">yarn</label><input type="radio" name="group--T4Gz" id="tab-UU-Tw5x"><label data-title="pnpm" for="tab-UU-Tw5x">pnpm</label></div><div class="blocks"><div class="language-shell vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å®‰è£…</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> yarn</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æŸ¥çœ‹ç‰ˆæœ¬</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> yarn</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># åˆå§‹åŒ–é¡¹ç›®</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> init</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å®‰è£…ä¾èµ–</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xxx</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å¸è½½ä¾èµ–</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remove</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xxx</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å®‰è£…å¼€å‘ä¾èµ–</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -D</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xxx</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># è¿˜åŸä¾èµ–</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æ‰§è¡Œè‡ªå®šä¹‰è„šæœ¬</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æ‰§è¡Œè‡ªå®šä¹‰è„šæœ¬</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> yarn</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">æŒ‡</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ä»¤</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å…¨å±€å®‰è£…</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> global</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å…¨å±€ç§»é™¤</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> global</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remove</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å…¨å±€å®‰è£…ç›®å½•</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> global</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bin</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># é•œåƒé…ç½®</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> registry</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://registry.npmmirror.com</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># é•œåƒæ¢å¤</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> delete</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> registry</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å®‰è£…</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pnpm</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æŸ¥çœ‹ç‰ˆæœ¬</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pnpm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># åˆå§‹åŒ–é¡¹ç›®</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> init</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å®‰è£…ä¾èµ–</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xxx</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å¸è½½ä¾èµ–</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remove</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xxx</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å®‰è£…å¼€å‘ä¾èµ–</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -D</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xxx</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å®‰è£…å…¨å±€åŒ…</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xxx</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># è¿˜åŸä¾èµ–</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># é•œåƒé…ç½®</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> registry</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://registry.npmmirror.com</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># é•œåƒæ¢å¤</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> delete</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> registry</span></span></code></pre></div><h3 id="corepack" tabindex="-1">corepack <a class="header-anchor" href="#corepack" aria-label="Permalink to &quot;corepack&quot;">â€‹</a></h3></div></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># åœ¨ node v 16.0.0 ä¹‹åï¼Œæœ‰ä¸€ä¸ª corepack å·¥å…·ï¼Œå…¶åŒæ—¶å†…ç½®äº† yarn å’Œ pnpm</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># é»˜è®¤å…³é—­çŠ¶æ€ï¼Œéœ€è¦æ‰‹åŠ¨å¼€å¯</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> corepack</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enable</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># åˆ‡æ¢ corepack yarn ä¸º 1.x.x ç‰ˆæœ¬</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> corepack</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> prepare</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> yarn@1.x.x</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --activate</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># åˆ‡æ¢ corepack yarn æœ€æ–°ç‰ˆæœ¬</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> corepack</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> prepare</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> yarn@latest</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --activate</span></span></code></pre></div><h2 id="http-åè®®" tabindex="-1">Http åè®® <a class="header-anchor" href="#http-åè®®" aria-label="Permalink to &quot;Http åè®®&quot;">â€‹</a></h2><h3 id="ä¸¤é“é¢è¯•é¢˜" tabindex="-1">ä¸¤é“é¢è¯•é¢˜ <a class="header-anchor" href="#ä¸¤é“é¢è¯•é¢˜" aria-label="Permalink to &quot;ä¸¤é“é¢è¯•é¢˜&quot;">â€‹</a></h3><div class="tip custom-block"><p class="custom-block-title">å½“åœ¨æµè§ˆå™¨ä¸­è¾“å…¥åœ°å€ä»¥åå‘ä»€ä¹ˆï¼Ÿ</p><ol><li>DNS è§£æï¼Œè·å–ç½‘ç«™çš„ ip åœ°å€</li><li>æµè§ˆå™¨éœ€è¦å’ŒæœåŠ¡å™¨å»ºç«‹è¿æ¥ï¼ˆtcp/ipï¼‰ï¼ˆä¸‰æ¬¡æ¡æ‰‹ï¼‰</li><li>å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼ˆhttp åè®®ï¼‰</li><li>æœåŠ¡å™¨å¤„ç†è¯·æ±‚ï¼Œå¹¶è¿”å›å“åº”ï¼ˆhttp åè®®ï¼‰</li><li>æµè§ˆå™¨å°†å“åº”çš„é¡µé¢æ¸²æŸ“</li><li>æ–­å¼€ä¸æœåŠ¡å™¨çš„è¿æ¥ï¼ˆå››æ¬¡æŒ¥æ‰‹ï¼‰</li></ol></div><div class="tip custom-block"><p class="custom-block-title">å®¢æˆ·ç«¯å¦‚ä½•å’ŒæœåŠ¡å™¨å»ºç«‹ï¼ˆæ–­å¼€ï¼‰è¿æ¥</p><ul><li><p>ä¸‰æ¬¡æ¡æ‰‹ï¼ˆå»ºç«‹è¿æ¥ï¼‰</p><ol><li>å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€è¿æ¥è¯·æ±‚ï¼ˆSYNï¼‰ï¼›</li><li>æœåŠ¡å™¨æ”¶åˆ°è¿æ¥è¯·æ±‚ï¼Œå‘å®¢æˆ·ç«¯è¿”å›æ¶ˆæ¯ï¼ˆACK + SYNï¼‰ï¼›</li><li>å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€åŒæ„è¿æ¥çš„ä¿¡æ¯ï¼ˆSYNï¼‰ï¼›</li></ol></li><li><p>å››æ¬¡æŒ¥æ‰‹ï¼ˆæ–­å¼€è¿æ¥ï¼‰</p><ol><li>å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€æ–­å¼€è¯·æ±‚ï¼ŒæœåŠ¡å™¨æ—¶æ•°æ®å‘é€å®Œæ¯•ï¼Œè¯·æ±‚æ–­å¼€è¿æ¥ï¼ˆFINï¼‰ï¼›</li><li>æœåŠ¡å™¨å‘å®¢æˆ·ç«¯è¿”å›æ•°æ®ï¼Œæ”¶åˆ°è¯·æ±‚ï¼ˆACKï¼‰ï¼›</li><li>æœåŠ¡å™¨å‘å®¢æˆ·ç«¯è¿”å›æ•°æ®ï¼Œæ•°æ®æ¥æ”¶å®Œæˆï¼Œå¯ä»¥æ–­å¼€ï¼ˆFIN + ACKï¼‰ï¼›</li><li>å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€æ•°æ®ï¼ŒåŒæ„æ–­å¼€è¿æ¥ï¼ˆACKï¼‰ï¼›</li></ol></li></ul></div><h3 id="ç½‘ç»œé€šè®¯" tabindex="-1">ç½‘ç»œé€šè®¯ <a class="header-anchor" href="#ç½‘ç»œé€šè®¯" aria-label="Permalink to &quot;ç½‘ç»œé€šè®¯&quot;">â€‹</a></h3><p><code>TCP/IP åè®®æ—</code>ä¸­åŒ…å«äº†ä¸€ç»„åè®®ï¼Œè¿™ç»„åè®®è§„å®šäº†äº’è”ç½‘ä¸­æ‰€æœ‰çš„é€šè®¯çš„ç»†èŠ‚ã€‚</p><p><code>ç½‘ç»œé€šè®¯</code>è¿‡ç¨‹ç”±å››å±‚ç»„æˆï¼š</p><ul><li><code>åº”ç”¨å±‚</code>: HTTPã€FTPã€SMTPã€DNS <ul><li>è½¯ä»¶å±‚é¢ï¼Œæµè§ˆå™¨ã€æœåŠ¡å™¨éƒ½å±äºåº”ç”¨å±‚</li></ul></li><li><code>ä¼ è¾“å±‚</code>: TCPã€UDP <ul><li>è´Ÿè´£å¯¹æ•°æ®æ‹†åˆ†ï¼ŒæŠŠå¤§æ•°æ®æ‹†åˆ†ä¸ºä¸€ä¸ªä¸ªå°åŒ…ï¼ˆè¯·æ±‚æ—¶ï¼‰ï¼Œè´Ÿè´£å¯¹æ•°æ®åˆå¹¶ï¼Œå°†ä¸€ä¸ªä¸ªå°åŒ…åˆå¹¶æˆå¤§æ•°æ®ï¼ˆæ¥æ”¶æ—¶ï¼‰</li></ul></li><li><code>ç½‘ç»œå±‚</code>: IPã€ICMPã€ARP <ul><li>è´Ÿè´£ç»™æ•°æ®åŒ…æ·»åŠ ä¿¡æ¯ï¼ˆè¯·æ±‚æ—¶ï¼‰ï¼›è´Ÿè´£ç»™æ•°æ®åŒ…ç§»é™¤ä¿¡æ¯ï¼ˆæ¥æ”¶æ—¶ï¼‰</li></ul></li><li><code>æ•°æ®é“¾è·¯å±‚</code>: MAC <ul><li>ä¼ è¾“æ•°æ®</li></ul></li></ul><p>å…¶ä¸­ï¼Œ<code>HTTP åè®®ï¼ˆè¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼‰</code>æ˜¯åº”ç”¨å±‚çš„åè®®ï¼Œç”¨æ¥è§„å®šå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„é€šè®¯è§„åˆ™ï¼Œå³è§„å®š<code>æŠ¥æ–‡</code>æ ¼å¼ã€‚</p><h3 id="æŠ¥æ–‡" tabindex="-1">æŠ¥æ–‡ <a class="header-anchor" href="#æŠ¥æ–‡" aria-label="Permalink to &quot;æŠ¥æ–‡&quot;">â€‹</a></h3><p>æŠ¥æ–‡ï¼ˆmessageï¼‰ï¼Ÿ</p><p>æµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´çš„é€šè®¯æ—¶åŸºäº<code>è¯·æ±‚å’Œå“åº”</code></p><ul><li>æµè§ˆå™¨å‘æœåŠ¡å™¨å‘é€<code>è¯·æ±‚ï¼ˆrequestï¼‰</code>ï¼Œç›¸å½“äºå‘ä¿¡</li><li>æœåŠ¡å™¨å‘æµè§ˆå™¨è¿”å›<code>å“åº”ï¼ˆresponseï¼‰</code>ï¼Œç›¸å½“äºå›ä¿¡</li></ul><h3 id="æŠ¥æ–‡ç±»å‹" tabindex="-1">æŠ¥æ–‡ç±»å‹ <a class="header-anchor" href="#æŠ¥æ–‡ç±»å‹" aria-label="Permalink to &quot;æŠ¥æ–‡ç±»å‹&quot;">â€‹</a></h3><p>æŠ¥æ–‡ç±»å‹å¯ä»¥åˆ†ä¸ºä»¥ä¸‹ä¸¤ç§ï¼š</p><ul><li><code>è¯·æ±‚æŠ¥æ–‡ï¼ˆrequestï¼‰</code>: å®¢æˆ·ç«¯å‘é€ç»™æœåŠ¡å™¨çš„æŠ¥æ–‡ç§°ä¸ºè¯·æ±‚æŠ¥æ–‡ã€‚</li><li><code>å“åº”æŠ¥æ–‡ï¼ˆresponseï¼‰</code>: æœåŠ¡å™¨å‘é€ç»™å®¢æˆ·ç«¯çš„æŠ¥æ–‡ç§°ä¸ºå“åº”æŠ¥æ–‡ã€‚</li></ul><h4 id="è¯·æ±‚æŠ¥æ–‡" tabindex="-1">è¯·æ±‚æŠ¥æ–‡ <a class="header-anchor" href="#è¯·æ±‚æŠ¥æ–‡" aria-label="Permalink to &quot;è¯·æ±‚æŠ¥æ–‡&quot;">â€‹</a></h4><ul><li>è¯·æ±‚é¦–è¡Œ</li><li>è¯·æ±‚å¤´</li><li>ç©ºè¡Œ</li><li>è¯·æ±‚ä½“</li></ul><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* è¯·æ±‚æŠ¥æ–‡ç¤ºä¾‹ */</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// GET /07_http%E5%8D%8F%E8%AE%AE/01_http%E5%8D%8F%E8%AE%AE.html?username=sunwukong HTTP/1.1</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Accept-Encoding: gzip, deflate, br</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Accept-Language: zh-CN,zh;q=0.9,en;q=0.8,la;q=0.7</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Cache-Control: max-age=0</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Connection: keep-alive</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Host: 127.0.0.1:5500</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// If-Modified-Since: Thu, 27 Oct 2022 11:10:28 GMT</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// If-None-Match: W/&quot;1b8-1841922e832&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Referer: http://127.0.0.1:5500/07_http%E5%8D%8F%E8%AE%AE/01_http%E5%8D%8F%E8%AE%AE.html?username=sunwukong</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Sec-Fetch-Dest: document</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Sec-Fetch-Mode: navigate</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Sec-Fetch-Site: same-origin</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Upgrade-Insecure-Requests: 1</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/106.0.0.0 Safari/537.36</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// sec-ch-ua: &quot;Chromium&quot;;v=&quot;106&quot;, &quot;Google Chrome&quot;;v=&quot;106&quot;, &quot;Not;A=Brand&quot;;v=&quot;99&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// sec-ch-ua-mobile: ?0</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// sec-ch-ua-platform: &quot;Windows&quot;</span></span></code></pre></div><p>åˆ†æï¼š</p><ul><li><code>è¯·æ±‚é¦–è¡Œ</code>: è¯·æ±‚é¦–è¡Œå°±æ˜¯è¯·æ±‚æŠ¥æ–‡çš„ç¬¬ä¸€è¡Œ; <ul><li>GET /index.html?username=sunwukong HTTP/1.1 <ul><li><ol><li>GET è¡¨ç¤ºå‘é€ get è¯·æ±‚</li></ol></li><li><ol start="2"><li>/index.html?username=sunwukong è¡¨ç¤ºè¯·æ±‚èµ„æºè·¯å¾„ï¼Œå…¶ä¸­ &#39;?&#39; åé¢çš„å†…å®¹å«åš<code>æŸ¥è¯¢å­—ç¬¦ä¸²</code></li></ol></li><li><ol start="3"><li>HTTP/1.1 è¡¨ç¤ºä½¿ç”¨ http åè®®çš„ 1.1 ç‰ˆæœ¬</li></ol></li></ul></li></ul></li><li><code>è¯·æ±‚å¤´</code>: è¯·æ±‚å¤´æ˜¯é”®å€¼å¯¹ç»“æ„ï¼Œç”¨æ¥å‘Šè¯‰æœåŠ¡å™¨æˆ‘ä»¬æµè§ˆå™¨çš„ä¿¡æ¯; <ul><li>Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,<em>/</em>;q=0.8,application/signed-exchange;v=b3;q=0.9 <ul><li>Accept æµè§ˆå™¨å¯ä»¥æ¥å—çš„æ–‡ä»¶ç±»å‹</li><li>Accept-Encoding æµè§ˆå™¨å…è®¸çš„å‹ç¼©çš„ç¼–ç </li><li>User-Agent ç”¨æˆ·ä»£ç†ï¼Œå®ƒæ˜¯ä¸€æ®µç”¨æ¥æè¿°æµè§ˆå™¨ä¿¡æ¯çš„å­—ç¬¦ä¸²</li></ul></li></ul></li><li><code>ç©ºè¡Œ</code>: ç”¨æ¥åˆ†éš”è¯·æ±‚å¤´å’Œè¯·æ±‚ä½“;</li><li><code>è¯·æ±‚ä½“</code>: get æ²¡æœ‰ï¼Œpost é€šè¿‡è¯·æ±‚ä½“æ¥å‘é€æ•°æ®;</li></ul><div class="tip custom-block"><p class="custom-block-title">TIP</p><table tabindex="0"><thead><tr><th style="text-align:center;">è¯·æ±‚æ–¹å¼</th><th style="text-align:center;">ä¼ å‚æ–¹å¼</th><th style="text-align:center;">é•¿åº¦é™åˆ¶</th></tr></thead><tbody><tr><td style="text-align:center;">Get</td><td style="text-align:center;">é€šè¿‡æŸ¥è¯¢å­—ç¬¦ä¸²å‘é€æ•°æ®ï¼ŒURL å¯ä»¥çœ‹åˆ°</td><td style="text-align:center;">HTTP åè®®å¹¶æ²¡æœ‰å¯¹ URL é•¿åº¦é™åˆ¶ï¼Œä¸»è¦çš„é™åˆ¶æ¥æºäºç‰¹å®šçš„æµè§ˆå™¨å’ŒæœåŠ¡å™¨ã€‚2083 ä¸ªå­—ç¬¦ IE æ ‡å‡†ã€‚</td></tr><tr><td style="text-align:center;">POST</td><td style="text-align:center;">é€šè¿‡è¯·æ±‚ä½“å‘é€æ•°æ®ï¼ŒURL æ— æ³•æŸ¥çœ‹</td><td style="text-align:center;">HTTP åè®®è§„èŒƒä¹Ÿæ²¡æœ‰è¿›è¡Œå¤§å°é™åˆ¶ï¼Œèµ·é™åˆ¶ä½œç”¨çš„æ˜¯æœåŠ¡å™¨çš„å¤„ç†ç¨‹åºçš„å¤„ç†èƒ½åŠ›ã€‚ã€‚Tomcat é»˜è®¤ 2Mã€‚</td></tr></tbody></table><p><a href="https://www.jianshu.com/p/ea99c1e4f6a4" target="_blank" rel="noreferrer">å…³äº HTTP GET/POST è¯·æ±‚å‚æ•°é•¿åº¦æœ€å¤§å€¼çš„ä¸€ä¸ªç†è§£è¯¯åŒº - jasonhsu9</a></p></div><h4 id="å“åº”æŠ¥æ–‡" tabindex="-1">å“åº”æŠ¥æ–‡ <a class="header-anchor" href="#å“åº”æŠ¥æ–‡" aria-label="Permalink to &quot;å“åº”æŠ¥æ–‡&quot;">â€‹</a></h4><ul><li>å“åº”é¦–è¡Œ</li><li>å“åº”å¤´</li><li>ç©ºè¡Œ</li><li>å“åº”ä½“</li></ul><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* å“åº”æŠ¥æ–‡ç¤ºä¾‹ */</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// HTTP/1.1 200 OK</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Vary: Origin</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Access-Control-Allow-Credentials: true</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Accept-Ranges: bytes</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Cache-Control: public, max-age=0</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Last-Modified: Thu, 27 Oct 2022 11:31:54 GMT</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ETag: W/&quot;20c-18419368696&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Content-Type: text/html; charset=UTF-8</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Content-Length: 2017</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Date: Thu, 27 Oct 2022 11:52:29 GMT</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Connection: keep-alive</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Keep-Alive: timeout=5</span></span></code></pre></div><p>åˆ†æï¼š</p><ul><li><code>å“åº”é¦–è¡Œ</code>: å“åº”æŠ¥æ–‡çš„ç¬¬ä¸€è¡Œ; <ul><li>HTTP/1.1 200 OK</li><li>200 å“åº”çŠ¶æ€ç </li><li>ok å¯¹å“åº”çŠ¶æ€ç çš„æè¿°</li><li>å“åº”çŠ¶æ€ç  <ul><li>1xx è¯·æ±‚å¤„ç†ä¸­</li><li>2xx è¡¨ç¤ºæˆåŠŸ</li><li>3xx è¡¨ç¤ºè¯·æ±‚çš„é‡å®šå‘</li><li>4xx è¡¨ç¤ºå®¢æˆ·ç«¯é”™è¯¯</li><li>5xx è¡¨ç¤ºæœåŠ¡å™¨çš„é”™è¯¯</li></ul></li></ul></li><li><code>å“åº”å¤´</code>: æ˜¯ä¸€ä¸ªä¸€ä¸ªçš„åå€¼å¯¹ç»“æ„ï¼Œç”¨æ¥å‘Šè¯‰æµè§ˆå™¨å“åº”çš„ä¿¡æ¯; <ul><li>Content-Type ç”¨æ¥æè¿°å“åº”ä½“çš„ç±»å‹</li><li>Content-Length ç”¨æ¥æè¿°å“åº”ä½“å¤§å°</li><li>Content-Type: text/html; charset=UTF-8</li><li>Content-Length: 2017</li></ul></li><li><code>ç©ºè¡Œ</code>: ç”¨æ¥åˆ†éš”å“åº”å¤´å’Œå“åº”ä½“;</li><li><code>å“åº”ä½“</code>: å“åº”ä½“å°±æ˜¯æœåŠ¡å™¨è¿”å›ç»™å®¢æˆ·ç«¯çš„å†…å®¹;</li></ul><h2 id="express" tabindex="-1">Express <a class="header-anchor" href="#express" aria-label="Permalink to &quot;Express&quot;">â€‹</a></h2><p>Express æ˜¯ä¸€ä¸ªåŸºäº Node.js å¹³å°çš„ web åº”ç”¨å¼€å‘æ¡†æ¶ï¼Œå®ƒæä¾›äº†ä¸€ç³»åˆ—å¼ºå¤§ç‰¹æ€§å¸®åŠ©ä½ åˆ›å»ºå„ç§ Web å’Œç§»åŠ¨è®¾å¤‡åº”ç”¨ã€‚</p><p>Express æ¡†æ¶æ ¸å¿ƒç‰¹æ€§ï¼š</p><ul><li>å¯ä»¥è®¾ç½®ä¸­é—´ä»¶æ¥å“åº” HTTP è¯·æ±‚</li><li>å®šä¹‰äº†è·¯ç”±è¡¨ç”¨äºæ‰§è¡Œä¸åŒçš„ HTTP è¯·æ±‚åŠ¨ä½œ</li><li>å¯ä»¥é€šè¿‡å‘æ¨¡æ¿ä¼ é€’å‚æ•°æ¥åŠ¨æ€æ¸²æŸ“ HTML é¡µé¢</li></ul>`,174)]))}const y=i(h,[["render",p]]);export{g as __pageData,y as default};
